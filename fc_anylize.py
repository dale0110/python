# coding:utf8
import matplotlib.pyplot as plt
from matplotlib.dates import DateFormatter, MinuteLocator, SecondLocator
from matplotlib.ticker import MultipleLocator, FormatStrFormatter
import numpy as np
from StringIO import StringIO
import datetime as dt
import string


### The example data
a=StringIO("""1   |  00000001  |  00000002   | 2018-07-25 11:09:21.620 | 2018-07-25 11:09:26.42  | 2018-07-25 11:09:21.631 | 2018-07-25 11:09:25.697 | 2018-07-25 11:09:25.710 | 2018-07-25 11:09:26.15  | 2018-07-25 11:09:21.412 |        200        | 2018-07-25 11:09:21.416 | 2018-07-25 11:09:21.619
 2   |  00000001  |  00000002   | 2018-07-25 11:09:22.267 | 2018-07-25 11:09:31.789 | 2018-07-25 11:09:22.274 | 2018-07-25 11:09:29.682 | 2018-07-25 11:09:29.697 | 2018-07-25 11:09:31.731 | 2018-07-25 11:09:22.59  |        200        | 2018-07-25 11:09:22.67  | 2018-07-25 11:09:22.267
 3   |  00000001  |  00000002   | 2018-07-25 11:09:22.192 | 2018-07-25 11:09:30.205 | 2018-07-25 11:09:22.203 | 2018-07-25 11:09:28.655 | 2018-07-25 11:09:28.665 | 2018-07-25 11:09:30.181 | 2018-07-25 11:09:21.984 |        200        | 2018-07-25 11:09:21.989 | 2018-07-25 11:09:22.189
 4   |  00000001  |  00000002   | 2018-07-25 11:09:22.20  | 2018-07-25 11:09:29.714 | 2018-07-25 11:09:22.25  | 2018-07-25 11:09:28.12  | 2018-07-25 11:09:28.22  | 2018-07-25 11:09:29.686 | 2018-07-25 11:09:21.805 |        200        | 2018-07-25 11:09:21.820 | 2018-07-25 11:09:22.20 
 5   |  00000002  |  00000003   | 2018-07-25 11:09:22.366 | 2018-07-25 11:09:37.292 | 2018-07-25 11:09:22.371 | 2018-07-25 11:09:30.330 | 2018-07-25 11:09:30.351 | 2018-07-25 11:09:33.158 | 2018-07-25 11:09:22.302 |        60         | 2018-07-25 11:09:22.305 | 2018-07-25 11:09:22.365
 6   |  00000001  |  00000002   | 2018-07-25 11:09:22.502 | 2018-07-25 11:09:35.163 | 2018-07-25 11:09:22.508 | 2018-07-25 11:09:31.338 | 2018-07-25 11:09:31.361 | 2018-07-25 11:09:35.92  | 2018-07-25 11:09:22.298 |        200        | 2018-07-25 11:09:22.300 | 2018-07-25 11:09:22.501
 7   |  00000001  |  00000002   | 2018-07-25 11:09:21.734 | 2018-07-25 11:09:27.145 | 2018-07-25 11:09:21.775 | 2018-07-25 11:09:26.488 | 2018-07-25 11:09:26.502 | 2018-07-25 11:09:27.114 | 2018-07-25 11:09:21.506 |        200        | 2018-07-25 11:09:21.514 | 2018-07-25 11:09:21.717
 8   |  00000001  |  00000002   | 2018-07-25 11:09:21.131 | 2018-07-25 11:09:23.297 | 2018-07-25 11:09:21.139 | 2018-07-25 11:09:22.702 | 2018-07-25 11:09:22.726 | 2018-07-25 11:09:23.234 | 2018-07-25 11:09:20.924 |        200        | 2018-07-25 11:09:20.929 | 2018-07-25 11:09:21.129
 9   |  00000001  |  00000002   | 2018-07-25 11:09:21.315 | 2018-07-25 11:09:24.686 | 2018-07-25 11:09:21.319 | 2018-07-25 11:09:24.343 | 2018-07-25 11:09:24.364 | 2018-07-25 11:09:24.647 | 2018-07-25 11:09:21.109 |        200        | 2018-07-25 11:09:21.114 | 2018-07-25 11:09:21.314
 10  |  00000002  |  00000003   | 2018-07-25 11:09:22.410 | 2018-07-25 11:09:37.485 | 2018-07-25 11:09:22.414 | 2018-07-25 11:09:30.535 | 2018-07-25 11:09:30.553 | 2018-07-25 11:09:33.423 | 2018-07-25 11:09:22.203 |        200        | 2018-07-25 11:09:22.210 | 2018-07-25 11:09:22.410
 11  |  00000001  |  00000002   | 2018-07-25 11:09:21.98  | 2018-07-25 11:09:22.953 | 2018-07-25 11:09:21.109 | 2018-07-25 11:09:22.425 | 2018-07-25 11:09:22.466 | 2018-07-25 11:09:22.911 | 2018-07-25 11:09:20.887 |        200        | 2018-07-25 11:09:20.894 | 2018-07-25 11:09:21.94 
 12  |  00000001  |  00000002   | 2018-07-25 11:09:22.514 | 2018-07-25 11:09:35.242 | 2018-07-25 11:09:22.518 | 2018-07-25 11:09:31.404 | 2018-07-25 11:09:31.423 | 2018-07-25 11:09:35.211 | 2018-07-25 11:09:22.309 |        200        | 2018-07-25 11:09:22.313 | 2018-07-25 11:09:22.513
 13  |  00000001  |  00000002   | 2018-07-25 11:09:22.590 | 2018-07-25 11:09:36.923 | 2018-07-25 11:09:22.594 | 2018-07-25 11:09:32.452 | 2018-07-25 11:09:32.471 | 2018-07-25 11:09:36.810 | 2018-07-25 11:09:22.388 |        200        | 2018-07-25 11:09:22.390 | 2018-07-25 11:09:22.590
 14  |  00000001  |  00000002   | 2018-07-25 11:09:22.557 | 2018-07-25 11:09:36.156 | 2018-07-25 11:09:22.563 | 2018-07-25 11:09:32.47  | 2018-07-25 11:09:32.70  | 2018-07-25 11:09:36.126 | 2018-07-25 11:09:22.348 |        200        | 2018-07-25 11:09:22.351 | 2018-07-25 11:09:22.556
 15  |  00000001  |  00000002   | 2018-07-25 11:09:21.56  | 2018-07-25 11:09:22.403 | 2018-07-25 11:09:21.63  | 2018-07-25 11:09:21.803 | 2018-07-25 11:09:21.922 | 2018-07-25 11:09:22.362 | 2018-07-25 11:09:20.850 |        200        | 2018-07-25 11:09:20.856 | 2018-07-25 11:09:21.56 
 16  |  00000001  |  00000002   | 2018-07-25 11:09:21.767 | 2018-07-25 11:09:27.282 | 2018-07-25 11:09:21.783 | 2018-07-25 11:09:26.586 | 2018-07-25 11:09:26.603 | 2018-07-25 11:09:27.254 | 2018-07-25 11:09:21.546 |        200        | 2018-07-25 11:09:21.550 | 2018-07-25 11:09:21.750
 17  |  00000001  |  00000002   | 2018-07-25 11:09:22.275 | 2018-07-25 11:09:32.20  | 2018-07-25 11:09:22.280 | 2018-07-25 11:09:29.754 | 2018-07-25 11:09:29.765 | 2018-07-25 11:09:31.974 | 2018-07-25 11:09:22.70  |        200        | 2018-07-25 11:09:22.74  | 2018-07-25 11:09:22.274
 18  |  00000001  |  00000002   | 2018-07-25 11:09:21.346 | 2018-07-25 11:09:25.90  | 2018-07-25 11:09:21.351 | 2018-07-25 11:09:24.819 | 2018-07-25 11:09:24.840 | 2018-07-25 11:09:25.59  | 2018-07-25 11:09:21.140 |        200        | 2018-07-25 11:09:21.144 | 2018-07-25 11:09:21.344
 19  |  00000001  |  00000002   | 2018-07-25 11:09:22.546 | 2018-07-25 11:09:36.85  | 2018-07-25 11:09:22.553 | 2018-07-25 11:09:31.947 | 2018-07-25 11:09:31.971 | 2018-07-25 11:09:36.51  | 2018-07-25 11:09:22.342 |        200        | 2018-07-25 11:09:22.345 | 2018-07-25 11:09:22.545
 20  |  00000001  |  00000002   | 2018-07-25 11:09:21.694 | 2018-07-25 11:09:26.665 | 2018-07-25 11:09:21.711 | 2018-07-25 11:09:26.142 | 2018-07-25 11:09:26.154 | 2018-07-25 11:09:26.629 | 2018-07-25 11:09:21.482 |        200        | 2018-07-25 11:09:21.487 | 2018-07-25 11:09:21.687
 21  |  00000001  |  00000002   | 2018-07-25 11:09:22.288 | 2018-07-25 11:09:32.277 | 2018-07-25 11:09:22.292 | 2018-07-25 11:09:29.940 | 2018-07-25 11:09:29.951 | 2018-07-25 11:09:32.176 | 2018-07-25 11:09:22.84  |        200        | 2018-07-25 11:09:22.87  | 2018-07-25 11:09:22.287
 22  |  00000001  |  00000002   | 2018-07-25 11:09:21.812 | 2018-07-25 11:09:28.776 | 2018-07-25 11:09:21.878 | 2018-07-25 11:09:27.379 | 2018-07-25 11:09:27.390 | 2018-07-25 11:09:28.731 | 2018-07-25 11:09:21.602 |        200        | 2018-07-25 11:09:21.609 | 2018-07-25 11:09:21.811
 23  |  00000001  |  00000002   | 2018-07-25 11:09:21.104 | 2018-07-25 11:09:23.47  | 2018-07-25 11:09:21.111 | 2018-07-25 11:09:22.532 | 2018-07-25 11:09:22.573 |  2018-07-25 11:09:23.4  | 2018-07-25 11:09:21.38  |        60         | 2018-07-25 11:09:21.43  | 2018-07-25 11:09:21.103
 24  |  00000001  |  00000002   | 2018-07-25 11:09:21.253 | 2018-07-25 11:09:24.86  | 2018-07-25 11:09:21.257 | 2018-07-25 11:09:23.396 | 2018-07-25 11:09:23.420 | 2018-07-25 11:09:24.41  | 2018-07-25 11:09:21.48  |        200        | 2018-07-25 11:09:21.53  | 2018-07-25 11:09:21.253
 25  |  00000001  |  00000002   | 2018-07-25 11:09:21.186 | 2018-07-25 11:09:23.635 | 2018-07-25 11:09:21.194 | 2018-07-25 11:09:22.849 | 2018-07-25 11:09:22.871 | 2018-07-25 11:09:23.548 | 2018-07-25 11:09:21.118 |        60         | 2018-07-25 11:09:21.124 | 2018-07-25 11:09:21.184
 26  |  00000001  |  00000002   | 2018-07-25 11:09:21.267 | 2018-07-25 11:09:24.189 | 2018-07-25 11:09:21.271 | 2018-07-25 11:09:23.645 | 2018-07-25 11:09:23.671 | 2018-07-25 11:09:24.151 | 2018-07-25 11:09:21.62  |        200        | 2018-07-25 11:09:21.66  | 2018-07-25 11:09:21.266
 27  |  00000001  |  00000002   | 2018-07-25 11:09:21.636 | 2018-07-25 11:09:26.347 | 2018-07-25 11:09:21.643 | 2018-07-25 11:09:25.925 | 2018-07-25 11:09:25.938 | 2018-07-25 11:09:26.272 | 2018-07-25 11:09:21.431 |        200        | 2018-07-25 11:09:21.434 | 2018-07-25 11:09:21.634
 28  |  00000001  |  00000002   | 2018-07-25 11:09:21.276 | 2018-07-25 11:09:24.319 | 2018-07-25 11:09:21.280 | 2018-07-25 11:09:23.907 | 2018-07-25 11:09:23.930 | 2018-07-25 11:09:24.281 | 2018-07-25 11:09:21.71  |        200        | 2018-07-25 11:09:21.75  | 2018-07-25 11:09:21.275
 29  |  00000001  |  00000002   | 2018-07-25 11:09:22.531 | 2018-07-25 11:09:35.692 | 2018-07-25 11:09:22.536 | 2018-07-25 11:09:31.760 | 2018-07-25 11:09:31.807 | 2018-07-25 11:09:35.657 | 2018-07-25 11:09:22.328 |        200        | 2018-07-25 11:09:22.331 | 2018-07-25 11:09:22.531
 30  |  00000001  |  00000002   | 2018-07-25 11:09:21.406 | 2018-07-25 11:09:25.856 | 2018-07-25 11:09:21.410 | 2018-07-25 11:09:25.540 | 2018-07-25 11:09:25.560 | 2018-07-25 11:09:25.818 | 2018-07-25 11:09:21.200 |        200        | 2018-07-25 11:09:21.204 | 2018-07-25 11:09:21.404
 31  |  00000001  |  00000002   | 2018-07-25 11:09:22.233 | 2018-07-25 11:09:31.353 | 2018-07-25 11:09:22.239 | 2018-07-25 11:09:29.367 | 2018-07-25 11:09:29.399 | 2018-07-25 11:09:31.326 | 2018-07-25 11:09:22.27  |        200        | 2018-07-25 11:09:22.31  | 2018-07-25 11:09:22.231
 32  |  00000001  |  00000002   | 2018-07-25 11:09:21.782 | 2018-07-25 11:09:27.969 | 2018-07-25 11:09:21.804 | 2018-07-25 11:09:27.88  | 2018-07-25 11:09:27.98  | 2018-07-25 11:09:27.939 | 2018-07-25 11:09:21.578 |        200        | 2018-07-25 11:09:21.581 | 2018-07-25 11:09:21.781
 33  |  00000001  |  00000002   | 2018-07-25 11:09:21.284 | 2018-07-25 11:09:24.507 | 2018-07-25 11:09:21.288 | 2018-07-25 11:09:24.144 | 2018-07-25 11:09:24.166 | 2018-07-25 11:09:24.470 | 2018-07-25 11:09:21.79  |        200        | 2018-07-25 11:09:21.83  | 2018-07-25 11:09:21.283
 34  |  00000001  |  00000002   | 2018-07-25 11:09:21.677 | 2018-07-25 11:09:26.583 | 2018-07-25 11:09:21.688 | 2018-07-25 11:09:26.73  | 2018-07-25 11:09:26.87  | 2018-07-25 11:09:26.524 | 2018-07-25 11:09:21.458 |        200        | 2018-07-25 11:09:21.463 | 2018-07-25 11:09:21.664
 35  |  00000001  |  00000002   | 2018-07-25 11:09:21.914 | 2018-07-25 11:09:29.313 | 2018-07-25 11:09:21.923 | 2018-07-25 11:09:27.802 | 2018-07-25 11:09:27.815 | 2018-07-25 11:09:29.283 | 2018-07-25 11:09:21.659 |        200        | 2018-07-25 11:09:21.690 | 2018-07-25 11:09:21.904
 36  |  00000001  |  00000002   | 2018-07-25 11:09:21.893 | 2018-07-25 11:09:28.858 | 2018-07-25 11:09:21.905 | 2018-07-25 11:09:27.546 | 2018-07-25 11:09:27.573 | 2018-07-25 11:09:28.828 | 2018-07-25 11:09:21.594 |        200        | 2018-07-25 11:09:21.598 | 2018-07-25 11:09:21.875
 37  |  00000001  |  00000002   | 2018-07-25 11:09:22.295 | 2018-07-25 11:09:32.383 | 2018-07-25 11:09:22.299 |  2018-07-25 11:09:30.5  | 2018-07-25 11:09:30.16  | 2018-07-25 11:09:32.356 | 2018-07-25 11:09:22.90  |        200        | 2018-07-25 11:09:22.93  | 2018-07-25 11:09:22.293
 38  |  00000001  |  00000002   | 2018-07-25 11:09:21.632 | 2018-07-25 11:09:26.190 | 2018-07-25 11:09:21.642 | 2018-07-25 11:09:25.851 | 2018-07-25 11:09:25.866 | 2018-07-25 11:09:26.159 | 2018-07-25 11:09:21.419 |        200        | 2018-07-25 11:09:21.426 | 2018-07-25 11:09:21.626
 39  |  00000001  |  00000002   | 2018-07-25 11:09:22.309 | 2018-07-25 11:09:32.936 | 2018-07-25 11:09:22.314 | 2018-07-25 11:09:30.138 | 2018-07-25 11:09:30.149 | 2018-07-25 11:09:32.903 | 2018-07-25 11:09:22.105 |        200        | 2018-07-25 11:09:22.109 | 2018-07-25 11:09:22.309
 40  |  00000001  |  00000002   | 2018-07-25 11:09:22.218 | 2018-07-25 11:09:31.116 | 2018-07-25 11:09:22.226 | 2018-07-25 11:09:29.213 | 2018-07-25 11:09:29.225 | 2018-07-25 11:09:31.88  | 2018-07-25 11:09:22.13  |        200        | 2018-07-25 11:09:22.17  | 2018-07-25 11:09:22.217
 41  |  00000001  |  00000002   | 2018-07-25 11:09:21.335 | 2018-07-25 11:09:24.918 | 2018-07-25 11:09:21.340 | 2018-07-25 11:09:24.619 | 2018-07-25 11:09:24.642 | 2018-07-25 11:09:24.885 | 2018-07-25 11:09:21.127 |        200        | 2018-07-25 11:09:21.134 | 2018-07-25 11:09:21.334
 42  |  00000001  |  00000002   | 2018-07-25 11:09:21.224 | 2018-07-25 11:09:24.23  | 2018-07-25 11:09:21.228 | 2018-07-25 11:09:23.99  | 2018-07-25 11:09:23.121 | 2018-07-25 11:09:23.943 | 2018-07-25 11:09:21.19  |        200        | 2018-07-25 11:09:21.24  | 2018-07-25 11:09:21.224
 43  |  00000001  |  00000002   | 2018-07-25 11:09:21.740 | 2018-07-25 11:09:27.523 | 2018-07-25 11:09:21.791 | 2018-07-25 11:09:26.773 | 2018-07-25 11:09:26.785 | 2018-07-25 11:09:27.485 | 2018-07-25 11:09:21.517 |        200        | 2018-07-25 11:09:21.524 | 2018-07-25 11:09:21.724
 44  |  00000001  |  00000002   | 2018-07-25 11:09:22.561 | 2018-07-25 11:09:36.313 | 2018-07-25 11:09:22.565 | 2018-07-25 11:09:32.162 | 2018-07-25 11:09:32.238 | 2018-07-25 11:09:36.281 | 2018-07-25 11:09:22.355 |        200        | 2018-07-25 11:09:22.359 | 2018-07-25 11:09:22.559
 45  |  00000001  |  00000002   | 2018-07-25 11:09:22.209 | 2018-07-25 11:09:30.879 | 2018-07-25 11:09:22.217 | 2018-07-25 11:09:29.31  | 2018-07-25 11:09:29.45  | 2018-07-25 11:09:30.851 |  2018-07-25 11:09:22.1  |        200        |  2018-07-25 11:09:22.4  | 2018-07-25 11:09:22.204
 46  |  00000001  |  00000002   | 2018-07-25 11:09:22.539 | 2018-07-25 11:09:35.905 | 2018-07-25 11:09:22.550 | 2018-07-25 11:09:31.858 | 2018-07-25 11:09:31.882 | 2018-07-25 11:09:35.873 | 2018-07-25 11:09:22.335 |        200        | 2018-07-25 11:09:22.338 | 2018-07-25 11:09:22.538
 47  |  00000001  |  00000002   | 2018-07-25 11:09:21.778 | 2018-07-25 11:09:27.709 | 2018-07-25 11:09:21.791 | 2018-07-25 11:09:26.849 | 2018-07-25 11:09:26.863 | 2018-07-25 11:09:27.679 | 2018-07-25 11:09:21.568 |        200        | 2018-07-25 11:09:21.575 | 2018-07-25 11:09:21.777
 48  |  00000001  |  00000002   | 2018-07-25 11:09:21.799 | 2018-07-25 11:09:28.410 | 2018-07-25 11:09:21.810 | 2018-07-25 11:09:27.162 | 2018-07-25 11:09:27.172 | 2018-07-25 11:09:28.360 | 2018-07-25 11:09:21.585 |        200        | 2018-07-25 11:09:21.590 | 2018-07-25 11:09:21.790
 49  |  00000001  |  00000002   | 2018-07-25 11:09:21.94  | 2018-07-25 11:09:22.769 | 2018-07-25 11:09:21.107 | 2018-07-25 11:09:22.122 | 2018-07-25 11:09:22.213 | 2018-07-25 11:09:22.738 | 2018-07-25 11:09:21.29  |        60         | 2018-07-25 11:09:21.33  | 2018-07-25 11:09:21.93 
 50  |  00000001  |  00000002   | 2018-07-25 11:09:21.398 | 2018-07-25 11:09:25.673 | 2018-07-25 11:09:21.402 | 2018-07-25 11:09:25.344 | 2018-07-25 11:09:25.365 | 2018-07-25 11:09:25.625 | 2018-07-25 11:09:21.191 |        200        | 2018-07-25 11:09:21.196 | 2018-07-25 11:09:21.396
 51  |  00000001  |  00000002   | 2018-07-25 11:09:21.357 | 2018-07-25 11:09:25.277 | 2018-07-25 11:09:21.362 | 2018-07-25 11:09:24.993 | 2018-07-25 11:09:25.14  | 2018-07-25 11:09:25.241 | 2018-07-25 11:09:21.150 |        200        | 2018-07-25 11:09:21.154 | 2018-07-25 11:09:21.354
 52  |  00000001  |  00000002   | 2018-07-25 11:09:21.388 | 2018-07-25 11:09:25.458 | 2018-07-25 11:09:21.392 | 2018-07-25 11:09:25.165 | 2018-07-25 11:09:25.185 | 2018-07-25 11:09:25.409 | 2018-07-25 11:09:21.180 |        200        | 2018-07-25 11:09:21.186 | 2018-07-25 11:09:21.386
 53  |  00000001  |  00000002   | 2018-07-25 11:09:21.679 | 2018-07-25 11:09:26.956 | 2018-07-25 11:09:21.721 | 2018-07-25 11:09:26.312 | 2018-07-25 11:09:26.330 | 2018-07-25 11:09:26.857 | 2018-07-25 11:09:21.470 |        200        | 2018-07-25 11:09:21.474 | 2018-07-25 11:09:21.674
 54  |  00000001  |  00000002   | 2018-07-25 11:09:21.760 | 2018-07-25 11:09:28.431 | 2018-07-25 11:09:21.819 | 2018-07-25 11:09:27.233 | 2018-07-25 11:09:27.243 | 2018-07-25 11:09:28.362 | 2018-07-25 11:09:21.529 |        200        | 2018-07-25 11:09:21.533 | 2018-07-25 11:09:21.733
 55  |  00000001  |  00000002   | 2018-07-25 11:09:22.280 | 2018-07-25 11:09:32.150 | 2018-07-25 11:09:22.285 | 2018-07-25 11:09:29.819 | 2018-07-25 11:09:29.875 | 2018-07-25 11:09:32.85  | 2018-07-25 11:09:22.77  |        200        | 2018-07-25 11:09:22.80  | 2018-07-25 11:09:22.280
 56  |  00000001  |  00000002   | 2018-07-25 11:09:21.821 | 2018-07-25 11:09:28.409 | 2018-07-25 11:09:21.826 | 2018-07-25 11:09:27.303 | 2018-07-25 11:09:27.313 | 2018-07-25 11:09:28.364 | 2018-07-25 11:09:21.614 |        200        | 2018-07-25 11:09:21.621 | 2018-07-25 11:09:21.821
 57  |  00000001  |  00000002   | 2018-07-25 11:09:22.300 | 2018-07-25 11:09:32.507 | 2018-07-25 11:09:22.305 | 2018-07-25 11:09:30.74  | 2018-07-25 11:09:30.88  | 2018-07-25 11:09:32.477 | 2018-07-25 11:09:22.97  |        200        | 2018-07-25 11:09:22.100 | 2018-07-25 11:09:22.300
 58  |  00000001  |  00000002   | 2018-07-25 11:09:21.769 | 2018-07-25 11:09:27.840 | 2018-07-25 11:09:21.798 | 2018-07-25 11:09:26.983 | 2018-07-25 11:09:26.994 | 2018-07-25 11:09:27.813 | 2018-07-25 11:09:21.538 |        200        | 2018-07-25 11:09:21.541 | 2018-07-25 11:09:21.742
 59  |  00000002  |  00000003   | 2018-07-25 11:09:22.459 | 2018-07-25 11:09:37.692 | 2018-07-25 11:09:22.464 | 2018-07-25 11:09:30.910 | 2018-07-25 11:09:30.929 | 2018-07-25 11:09:34.127 | 2018-07-25 11:09:22.255 |        200        | 2018-07-25 11:09:22.259 | 2018-07-25 11:09:22.459
 60  |  00000002  |  00000003   | 2018-07-25 11:09:22.450 | 2018-07-25 11:09:37.598 | 2018-07-25 11:09:22.454 | 2018-07-25 11:09:30.836 | 2018-07-25 11:09:30.858 | 2018-07-25 11:09:34.17  | 2018-07-25 11:09:22.377 |        60         | 2018-07-25 11:09:22.382 | 2018-07-25 11:09:22.449
 61  |  00000001  |  00000002   | 2018-07-25 11:09:22.225 | 2018-07-25 11:09:31.258 | 2018-07-25 11:09:22.232 | 2018-07-25 11:09:29.290 | 2018-07-25 11:09:29.303 | 2018-07-25 11:09:31.229 | 2018-07-25 11:09:22.21  |        200        | 2018-07-25 11:09:22.24  | 2018-07-25 11:09:22.224
 62  |  00000001  |  00000002   | 2018-07-25 11:09:22.488 | 2018-07-25 11:09:34.832 | 2018-07-25 11:09:22.492 | 2018-07-25 11:09:31.194 | 2018-07-25 11:09:31.213 | 2018-07-25 11:09:34.787 | 2018-07-25 11:09:22.284 |        200        | 2018-07-25 11:09:22.287 | 2018-07-25 11:09:22.487
 63  |  00000001  |  00000002   | 2018-07-25 11:09:21.84  | 2018-07-25 11:09:22.694 | 2018-07-25 11:09:21.91  | 2018-07-25 11:09:22.28  | 2018-07-25 11:09:22.47  | 2018-07-25 11:09:22.666 | 2018-07-25 11:09:20.877 |        200        | 2018-07-25 11:09:20.883 | 2018-07-25 11:09:21.83 
 64  |  00000001  |  00000002   | 2018-07-25 11:09:21.123 | 2018-07-25 11:09:23.297 | 2018-07-25 11:09:21.128 | 2018-07-25 11:09:22.613 | 2018-07-25 11:09:22.637 | 2018-07-25 11:09:23.209 | 2018-07-25 11:09:20.898 |        200        | 2018-07-25 11:09:20.921 | 2018-07-25 11:09:21.121
 65  |  00000001  |  00000002   | 2018-07-25 11:09:22.520 | 2018-07-25 11:09:35.423 | 2018-07-25 11:09:22.526 | 2018-07-25 11:09:31.472 | 2018-07-25 11:09:31.491 | 2018-07-25 11:09:35.391 | 2018-07-25 11:09:22.316 |        200        | 2018-07-25 11:09:22.319 | 2018-07-25 11:09:22.519
 66  |  00000001  |  00000002   | 2018-07-25 11:09:22.750 | 2018-07-25 11:09:37.40  | 2018-07-25 11:09:22.755 | 2018-07-25 11:09:32.610 | 2018-07-25 11:09:32.637 |  2018-07-25 11:09:37.8  | 2018-07-25 11:09:22.687 |        60         | 2018-07-25 11:09:22.690 | 2018-07-25 11:09:22.750
 67  |  00000001  |  00000002   | 2018-07-25 11:09:21.176 | 2018-07-25 11:09:23.507 | 2018-07-25 11:09:21.192 | 2018-07-25 11:09:22.779 | 2018-07-25 11:09:22.802 | 2018-07-25 11:09:23.449 | 2018-07-25 11:09:21.87  |        60         | 2018-07-25 11:09:21.98  | 2018-07-25 11:09:21.174
 68  |  00000001  |  00000002   | 2018-07-25 11:09:21.968 | 2018-07-25 11:09:29.509 | 2018-07-25 11:09:21.983 | 2018-07-25 11:09:27.874 | 2018-07-25 11:09:27.885 | 2018-07-25 11:09:29.408 | 2018-07-25 11:09:21.717 |        200        | 2018-07-25 11:09:21.767 | 2018-07-25 11:09:21.967
 69  |  00000002  |  00000003   | 2018-07-25 11:09:22.402 | 2018-07-25 11:09:37.357 | 2018-07-25 11:09:22.407 | 2018-07-25 11:09:30.402 | 2018-07-25 11:09:30.493 | 2018-07-25 11:09:33.224 | 2018-07-25 11:09:22.122 |        200        | 2018-07-25 11:09:22.202 | 2018-07-25 11:09:22.402
 70  |  00000001  |  00000002   | 2018-07-25 11:09:21.648 | 2018-07-25 11:09:26.391 | 2018-07-25 11:09:21.655 | 2018-07-25 11:09:25.995 |  2018-07-25 11:09:26.6  | 2018-07-25 11:09:26.357 | 2018-07-25 11:09:21.443 |        200        | 2018-07-25 11:09:21.446 | 2018-07-25 11:09:21.646
 71  |  00000001  |  00000002   | 2018-07-25 11:09:22.471 | 2018-07-25 11:09:34.782 | 2018-07-25 11:09:22.476 | 2018-07-25 11:09:31.119 | 2018-07-25 11:09:31.138 | 2018-07-25 11:09:34.330 | 2018-07-25 11:09:22.267 |        200        | 2018-07-25 11:09:22.271 | 2018-07-25 11:09:22.471
 72  |  00000001  |  00000002   | 2018-07-25 11:09:21.725 | 2018-07-25 11:09:27.67  | 2018-07-25 11:09:21.748 | 2018-07-25 11:09:26.407 | 2018-07-25 11:09:26.423 | 2018-07-25 11:09:27.37  | 2018-07-25 11:09:21.498 |        200        | 2018-07-25 11:09:21.502 | 2018-07-25 11:09:21.702
 73  |  00000001  |  00000002   | 2018-07-25 11:09:22.450 | 2018-07-25 11:09:33.903 | 2018-07-25 11:09:22.453 | 2018-07-25 11:09:30.764 | 2018-07-25 11:09:30.786 | 2018-07-25 11:09:33.856 | 2018-07-25 11:09:22.235 |        200        | 2018-07-25 11:09:22.243 | 2018-07-25 11:09:22.449
 74  |  00000001  |  00000002   | 2018-07-25 11:09:22.461 | 2018-07-25 11:09:34.225 | 2018-07-25 11:09:22.465 | 2018-07-25 11:09:30.989 |  2018-07-25 11:09:31.8  | 2018-07-25 11:09:34.196 | 2018-07-25 11:09:22.246 |        200        | 2018-07-25 11:09:22.261 | 2018-07-25 11:09:22.461
 75  |  00000001  |  00000002   | 2018-07-25 11:09:21.879 | 2018-07-25 11:09:29.42  | 2018-07-25 11:09:21.909 | 2018-07-25 11:09:27.624 | 2018-07-25 11:09:27.636 | 2018-07-25 11:09:29.15  | 2018-07-25 11:09:21.648 |        200        | 2018-07-25 11:09:21.653 | 2018-07-25 11:09:21.859
 76  |  00000001  |  00000002   | 2018-07-25 11:09:21.700 | 2018-07-25 11:09:26.824 | 2018-07-25 11:09:21.717 | 2018-07-25 11:09:26.217 | 2018-07-25 11:09:26.229 | 2018-07-25 11:09:26.789 | 2018-07-25 11:09:21.490 |        200        | 2018-07-25 11:09:21.493 | 2018-07-25 11:09:21.694
 77  |  00000001  |  00000002   | 2018-07-25 11:09:22.201 | 2018-07-25 11:09:30.736 | 2018-07-25 11:09:22.213 | 2018-07-25 11:09:28.954 | 2018-07-25 11:09:28.964 | 2018-07-25 11:09:30.692 | 2018-07-25 11:09:21.993 |        200        | 2018-07-25 11:09:21.997 | 2018-07-25 11:09:22.197
 78  |  00000001  |  00000002   | 2018-07-25 11:09:21.76  | 2018-07-25 11:09:22.551 | 2018-07-25 11:09:21.80  | 2018-07-25 11:09:21.937 | 2018-07-25 11:09:21.978 | 2018-07-25 11:09:22.507 | 2018-07-25 11:09:20.869 |        200        | 2018-07-25 11:09:20.874 | 2018-07-25 11:09:21.74 
 79  |  00000001  |  00000002   | 2018-07-25 11:09:21.213 | 2018-07-25 11:09:23.872 | 2018-07-25 11:09:21.217 | 2018-07-25 11:09:23.19  | 2018-07-25 11:09:23.52  | 2018-07-25 11:09:23.786 |  2018-07-25 11:09:21.9  |        200        | 2018-07-25 11:09:21.13  | 2018-07-25 11:09:21.213
 80  |  00000001  |  00000002   | 2018-07-25 11:09:21.55  | 2018-07-25 11:09:22.276 | 2018-07-25 11:09:21.62  | 2018-07-25 11:09:21.658 | 2018-07-25 11:09:21.680 | 2018-07-25 11:09:22.194 | 2018-07-25 11:09:20.841 |        200        | 2018-07-25 11:09:20.853 | 2018-07-25 11:09:21.53 
 81  |  00000001  |  00000002   | 2018-07-25 11:09:21.204 | 2018-07-25 11:09:23.762 | 2018-07-25 11:09:21.208 | 2018-07-25 11:09:22.923 | 2018-07-25 11:09:22.950 | 2018-07-25 11:09:23.716 | 2018-07-25 11:09:20.998 |        200        |  2018-07-25 11:09:21.3  | 2018-07-25 11:09:21.203
 82  |  00000001  |  00000002   | 2018-07-25 11:09:22.566 | 2018-07-25 11:09:36.394 | 2018-07-25 11:09:22.570 | 2018-07-25 11:09:32.300 | 2018-07-25 11:09:32.324 | 2018-07-25 11:09:36.364 | 2018-07-25 11:09:22.362 |        200        | 2018-07-25 11:09:22.366 | 2018-07-25 11:09:22.566
 83  |  00000001  |  00000002   | 2018-07-25 11:09:22.526 | 2018-07-25 11:09:35.521 | 2018-07-25 11:09:22.530 | 2018-07-25 11:09:31.541 | 2018-07-25 11:09:31.559 | 2018-07-25 11:09:35.490 | 2018-07-25 11:09:22.322 |        200        | 2018-07-25 11:09:22.325 | 2018-07-25 11:09:22.525
 84  |  00000001  |  00000002   | 2018-07-25 11:09:22.427 | 2018-07-25 11:09:33.547 | 2018-07-25 11:09:22.431 | 2018-07-25 11:09:30.671 | 2018-07-25 11:09:30.694 | 2018-07-25 11:09:33.512 | 2018-07-25 11:09:22.218 |        200        | 2018-07-25 11:09:22.227 | 2018-07-25 11:09:22.427
 85  |  00000001  |  00000002   | 2018-07-25 11:09:22.211 | 2018-07-25 11:09:30.984 | 2018-07-25 11:09:22.219 | 2018-07-25 11:09:29.100 | 2018-07-25 11:09:29.111 | 2018-07-25 11:09:30.954 |  2018-07-25 11:09:22.7  |        200        | 2018-07-25 11:09:22.10  | 2018-07-25 11:09:22.210
 86  |  00000001  |  00000002   | 2018-07-25 11:09:21.906 | 2018-07-25 11:09:29.185 | 2018-07-25 11:09:21.922 | 2018-07-25 11:09:27.730 | 2018-07-25 11:09:27.742 | 2018-07-25 11:09:29.114 | 2018-07-25 11:09:21.698 |        200        | 2018-07-25 11:09:21.705 | 2018-07-25 11:09:21.905
 87  |  00000001  |  00000002   | 2018-07-25 11:09:21.879 | 2018-07-25 11:09:28.887 | 2018-07-25 11:09:21.903 | 2018-07-25 11:09:27.464 | 2018-07-25 11:09:27.476 | 2018-07-25 11:09:28.859 | 2018-07-25 11:09:21.633 |        200        | 2018-07-25 11:09:21.638 | 2018-07-25 11:09:21.848
 88  |  00000001  |  00000002   | 2018-07-25 11:09:22.193 | 2018-07-25 11:09:30.666 | 2018-07-25 11:09:22.208 | 2018-07-25 11:09:28.890 | 2018-07-25 11:09:28.901 | 2018-07-25 11:09:30.633 | 2018-07-25 11:09:21.931 |        200        | 2018-07-25 11:09:21.942 | 2018-07-25 11:09:22.142
 89  |  00000001  |  00000002   | 2018-07-25 11:09:22.257 | 2018-07-25 11:09:31.771 | 2018-07-25 11:09:22.266 | 2018-07-25 11:09:29.606 | 2018-07-25 11:09:29.620 | 2018-07-25 11:09:31.712 | 2018-07-25 11:09:22.47  |        200        | 2018-07-25 11:09:22.55  | 2018-07-25 11:09:22.255
 90  |  00000001  |  00000002   | 2018-07-25 11:09:22.117 | 2018-07-25 11:09:30.83  | 2018-07-25 11:09:22.123 | 2018-07-25 11:09:28.585 | 2018-07-25 11:09:28.595 | 2018-07-25 11:09:30.56  | 2018-07-25 11:09:21.906 |        200        | 2018-07-25 11:09:21.917 | 2018-07-25 11:09:22.117
 91  |  00000001  |  00000002   | 2018-07-25 11:09:21.974 | 2018-07-25 11:09:29.617 | 2018-07-25 11:09:21.984 | 2018-07-25 11:09:27.941 | 2018-07-25 11:09:27.954 | 2018-07-25 11:09:29.589 | 2018-07-25 11:09:21.766 |        200        | 2018-07-25 11:09:21.773 | 2018-07-25 11:09:21.973
 92  |  00000002  |  00000003   | 2018-07-25 11:09:22.339 | 2018-07-25 11:09:37.234 | 2018-07-25 11:09:22.343 | 2018-07-25 11:09:30.251 | 2018-07-25 11:09:30.271 | 2018-07-25 11:09:33.90  | 2018-07-25 11:09:22.275 |        60         | 2018-07-25 11:09:22.279 | 2018-07-25 11:09:22.339
 93  |  00000001  |  00000002   | 2018-07-25 11:09:22.496 |  2018-07-25 11:09:35.5  | 2018-07-25 11:09:22.505 | 2018-07-25 11:09:31.268 | 2018-07-25 11:09:31.286 | 2018-07-25 11:09:34.977 | 2018-07-25 11:09:22.291 |        200        | 2018-07-25 11:09:22.294 | 2018-07-25 11:09:22.494
 94  |  00000001  |  00000002   | 2018-07-25 11:09:21.769 | 2018-07-25 11:09:27.621 | 2018-07-25 11:09:21.786 | 2018-07-25 11:09:26.685 | 2018-07-25 11:09:26.707 | 2018-07-25 11:09:27.593 | 2018-07-25 11:09:21.557 |        200        | 2018-07-25 11:09:21.562 | 2018-07-25 11:09:21.763
 95  |  00000001  |  00000002   | 2018-07-25 11:09:22.192 | 2018-07-25 11:09:30.524 | 2018-07-25 11:09:22.205 | 2018-07-25 11:09:28.807 | 2018-07-25 11:09:28.817 | 2018-07-25 11:09:30.492 | 2018-07-25 11:09:21.953 |        200        | 2018-07-25 11:09:21.957 | 2018-07-25 11:09:22.157
 96  |  00000001  |  00000002   | 2018-07-25 11:09:22.103 | 2018-07-25 11:09:29.934 | 2018-07-25 11:09:22.110 | 2018-07-25 11:09:28.479 | 2018-07-25 11:09:28.490 | 2018-07-25 11:09:29.910 | 2018-07-25 11:09:21.880 |        200        | 2018-07-25 11:09:21.903 | 2018-07-25 11:09:22.103
 97  |  00000001  |  00000002   | 2018-07-25 11:09:22.576 | 2018-07-25 11:09:36.726 | 2018-07-25 11:09:22.580 | 2018-07-25 11:09:32.378 | 2018-07-25 11:09:32.399 | 2018-07-25 11:09:36.658 | 2018-07-25 11:09:22.372 |        200        | 2018-07-25 11:09:22.376 | 2018-07-25 11:09:22.576
 98  |  00000001  |  00000002   | 2018-07-25 11:09:22.192 | 2018-07-25 11:09:30.310 | 2018-07-25 11:09:22.206 | 2018-07-25 11:09:28.719 | 2018-07-25 11:09:28.732 | 2018-07-25 11:09:30.279 | 2018-07-25 11:09:21.965 |        200        | 2018-07-25 11:09:21.980 | 2018-07-25 11:09:22.180
 99  |  00000001  |  00000002   | 2018-07-25 11:09:22.246 | 2018-07-25 11:09:31.749 | 2018-07-25 11:09:22.253 | 2018-07-25 11:09:29.527 | 2018-07-25 11:09:29.539 | 2018-07-25 11:09:31.577 | 2018-07-25 11:09:22.36  |        200        | 2018-07-25 11:09:22.44  | 2018-07-25 11:09:22.245
100  |  00000001  |  00000002   | 2018-07-25 11:09:22.83  | 2018-07-25 11:09:29.894 | 2018-07-25 11:09:22.88  | 2018-07-25 11:09:28.402 | 2018-07-25 11:09:28.430 | 2018-07-25 11:09:29.820 | 2018-07-25 11:09:21.788 |        200        | 2018-07-25 11:09:21.883 | 2018-07-25 11:09:22.83 
""")

#Converts str into a datetime object.
#str.lstrip() ： 去除字符串左边的空格
#str.rstrip() ： 去除字符串右边的空格
conv = lambda s: dt.datetime.strptime(s.lstrip( ).rstrip( ), '%Y-%m-%d %H:%M:%S.%f')


#print data

#Use numpy to read the data in. 
data = np.genfromtxt(a, delimiter="|", converters={3: conv, 4: conv,  5: conv,  6: conv,  7: conv,  8: conv,  9: conv,  11: conv,  12: conv},
                     names=['Num', 'OriginFcId', 'RestoreFcId', 'StartTime', 'EndTime', 'RouteStartTime', 'RouteEndTime', 'CrossStartTime', 'CrossEndTime', 'AlarmOccuredTime', 'RestoreWaitTime', 'RestoreWaitStartTime', 'RestoreWaitEndTime'], dtype=None)

#print data



Num, OriginFcId, RestoreFcId, StartTime, EndTime, RouteStartTime, RouteEndTime, CrossStartTime, CrossEndTime, AlarmOccuredTime, RestoreWaitTime, RestoreWaitStartTime, RestoreWaitEndTime = data['Num'], data['OriginFcId'], data['RestoreFcId'], data['StartTime'], data['EndTime'], data['RouteStartTime'], data['RouteEndTime'], data['CrossStartTime'], data['CrossEndTime'] , data['AlarmOccuredTime'], data['RestoreWaitTime'], data['RestoreWaitStartTime'] ,data['RestoreWaitEndTime']


#Get unique captions and there indices and the inverse mapping
captions, unique_idx,Num_inv = np.unique(Num, 1, 1)

#Build y values from the number of unique captions.
y = (Num_inv + 1) / float(len(captions) + 1)



#Plot function
def timelines(y, xStartTime, xEndTime, xRouteStartTime, xRouteEndTime, xCrossStartTime, xCrossEndTime, xAlarmOccuredTime, xRestoreWaitStartTime, xRestoreWaitEndTime):
    """Plot timelines at y from xstart to xstop with given color."""  
    #划横线 
    #blue  
    #g  green  
    #y    yellow
    #k    black
    #‘b’    blue 蓝色：xAlarmOccuredTime——>xRestoreWaitStartTime 从告警产生到恢复等待开始
    #‘y’    yellow 黄色：xRestoreWaitStartTime——>xRestoreWaitEndTime 从恢复等待开始到恢复等待结束
    #‘g’    green 蓝色：xRestoreWaitEndTime-->xRouteStartTime,从恢复等待结束到开始路由
    #‘r’    red 红色:xRouteStartTime-->xRouteEndTime,从发起算路到返回路由结果
    #‘c’    cyan 青色 :xRouteEndTime-->xCrossStartTime,从路由结束到开始下交叉
    #‘m’    magenta 从下发交叉开始到收到所有交叉响应
    plt.hlines(y, xAlarmOccuredTime, xRestoreWaitStartTime, 'b', lw=2)
    plt.hlines(y, xRestoreWaitStartTime, xRestoreWaitEndTime, 'y', lw=2)
    plt.hlines(y, xRestoreWaitEndTime, xRouteStartTime, 'g', lw=2)
    plt.hlines(y, xRouteStartTime, xRouteEndTime, 'r', lw=2)
    plt.hlines(y, xRouteEndTime, xCrossStartTime, 'c', lw=2)
    plt.hlines(y, xCrossStartTime, xCrossEndTime, 'm', lw=2)
    #截止线
    plt.vlines(xAlarmOccuredTime, y+0.001, y-0.001, 'k', lw=1)
    plt.vlines(xStartTime, y+0.001, y-0.001, 'k', lw=1)
    plt.vlines(xRouteStartTime, y+0.001, y-0.001, 'k', lw=1)
    plt.vlines(xCrossStartTime, y+0.001, y-0.001, 'k', lw=1)
    plt.vlines(xCrossEndTime, y+0.001, y-0.001, 'k', lw=1)

#Plot time line   
timelines(y, StartTime, EndTime, RouteStartTime, RouteEndTime, CrossStartTime, CrossEndTime, AlarmOccuredTime, RestoreWaitStartTime, RestoreWaitEndTime)


#Setup the plot
ax = plt.gca()
# 设置中文支持方式
plt.rcParams['font.sans-serif']=['SimHei'] #用来正常显示中文标签
plt.rcParams['axes.unicode_minus']=False #用来正常显示负号
ax.xaxis_date()
myFmt = DateFormatter('%M:%S.%f')
ax.xaxis.set_major_formatter(myFmt)
ax.xaxis.set_major_locator(SecondLocator(interval=1)) # 设置为1S间隔
# 设置X轴坐标字体和显示方式
plt.xticks(fontsize=8, color="black", rotation=-90)

txt = u"blue:xAlarmOccuredTime-->xStartTime"\
    u"green:xStartTime-->xRouteStartTime"\
    u"red:xRouteStartTime-->xRouteEndTime"\
    u"cyan:xRouteEndTime-->xCrossStartTime"\
    u"magenta:xCrossStartTime-->CrossEndTime"\


plt.text(5, 10, txt, fontsize=18, style='oblique', ha='center',va='top',wrap=True)


#To adjust the xlimits a timedelta is needed.
delta = (RestoreWaitEndTime.max() - AlarmOccuredTime.min())

print delta

plt.yticks(y[unique_idx], captions)
plt.ylim(0,1)
#设置当年X轴显示范围
plt.xlim(AlarmOccuredTime.min(), EndTime.max())
#plt.xlabel('Time')
#设置X轴标度线
ax.xaxis.grid(True, which='major') 
plt.show()
